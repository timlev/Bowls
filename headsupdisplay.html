<html>
<head>
  <script src="headsupdisplay.js"></script>
  <script>
  function deviceMotionHandler(eventData){
    alert(eventData);
    var info, xyz = "[X,Y,Z]";
    //Grab rotation Data from Result
    var rotation = eventData.rotationRate;
    info = xyz.replace("X", round(rotation.alpha));
    info = info.replace("Y", round(rotation.beta));
    info = info.replace("Z", round(rotation.gamma));
    document.getElementById("accel").innerHTML = info;
  };
  function round(val) {
    var amt = 10;
    return Math.round(val * amt) /  amt;
  };
  function onload(){
    // screen.orientation.addEventListener("change", function(e) {
    //       alert(screen.orientation.type + " " + screen.orientation.angle);
    //     }, false);
    alert("This worked");
    if (window.DeviceMotionEvent) {
      alert("DeviceMotionEvent supported");
      window.addEventListener('devicemotion', deviceMotionHandler, false);
    };

    document.getElementById("button").addEventListener("click", function() {
      screen.orientation.lock("landscape-primary");
    }, false);
  };
</script>
  <title>Heads Up Display</title>
</head>
<body onload="onload()">
Acceleration info: <span id="accel"></span><br/>
<button id="button">Full Screen Landscape</button>
</body>
</html>
